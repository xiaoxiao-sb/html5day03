<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远24K纯帅的$</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/index.css">


  <script src="js/drag.js" type="text/javascript"></script>
</head>
<body>
<div id="wrap">
  <!--引入视频-->
  <video src="video/钻石的存在.mp4"></video>
  <!--制作播放器控件-->
  <div id="ctl" class="controls">
    <!--控件有三个大的部分组成:左侧:播放控制,中间:进度条控制,右侧:音量控制-->
    <!--左侧按钮控制区-->
    <div class="btns-controls">
      <!--开始和停止-->
      <span class="start"></span>
      <span class="stop"></span>
    </div>
    <!--进度条控制区-->
    <div class="progress">
      <!--装进度条的容器-->
      <div class="container-pro">
        <div class="inner-drag"></div> <!--控制内部的按钮-->
      </div>
      <div class="inner-pro"></div><!--显示播放进度的-->
    </div>
    <!--音量控制区-->
    <div class="time-sound-screen-controls">
      <!--三个部分:播放时间,音量控制,全屏显示-->
      <!--时间-->
      <div class="time">
        <span>00:00:00/00:00:00</span>
      </div>
      <!--音量控制-->
      <div class="sound">
        <!--静音操作-->
        <div class="muted-constrols">
          <span></span>
        </div>
        <!--音量进度条-->
        <div class="sound-progress">
          <div class="sound-container"><!--音量进度容器-->
            <div class="sound-drag"></div><!--拖拽音量-->
          </div>
          <div class="sound-inner-pro"></div><!--音量进度-->
        </div>
      </div>
      <!--全屏控制-->
      <div class="full-screen">
        <span></span>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  window.onload = function () {

    //获取video标签
    var video = document.querySelector("#wrap>video");
    //获取controls标签
    var controls = document.querySelector("#wrap>.controls");
    //获取进度条里面的控制按钮---是视频播放进度的按钮inner-drag
    var innerDrag = document.querySelector("#wrap>.controls>.progress>.container-pro>.inner-drag");
    //获取进度条里的     移动的进度条:inner-pro
    var innerPro = document.querySelector("#wrap>.controls>.progress>.inner-pro");
    //获取音量进度条里的 拖拽音量的按钮sound-drag
    var soundDrag = document.querySelector("#wrap>.controls>.time-sound-screen-controls>.sound>.sound-progress>.sound-container>.sound-drag");
    //获取音量进度条里的 移动的进度条：sound-inner-pro
    var sinnerPro = document.querySelector("#wrap>.controls>.time-sound-screen-controls>.sound>.sound-progress>.sound-inner-pro");


    video.width = document.documentElement.clientWidth;
    video.height = document.documentElement.clientHeight - controls.offsetHeight;

    window.onresize = function () {
      if (document.documentElement.clientWidth >= 600) {
        video.width = document.documentElement.clientWidth;
        video.height = document.documentElement.clientHeight - controls.offsetHeight;

      }
    };


    var callback = {
      move: function () {
        innerDrag.style.width = this.offsetLeft + "px";
      }
    };
    var callback2 = {
      move: function () {
        soundDrag.style.width = this.offsetLeft + "px";
      }
    };
    $.drag(innerPro,callback);
    $.drag(sinnerPro,callback2);
  }

</script>
</body>
</html>